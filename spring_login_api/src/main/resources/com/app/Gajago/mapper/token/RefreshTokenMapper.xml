<?xml version="1.0" encoding="UTF-8"?> <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.app.Gajago.mapper.token.RefreshTokenMapper">
    <select id="existsByKeyId" parameterType="String" >
        SELECT COUNT(1)
        FROM T_REFRESHTOKEN
        WHERE KeyId = #{KeyId}
    </select>
    <delete id="deleteByKeyId" parameterType="String">
        DELETE FROM T_REFRESHTOKEN
        WHERE KeyId = #{KeyId}
    </delete>
    <insert id="saveToken" parameterType="com.app.Gajago.dto.token.RefreshTokenDto">
        INSERT INTO T_REFRESHTOKEN
        (refreshTokenId,refreshToken,keyId)
        VALUES
        (#{refreshTokenId},#{refreshToken},#{keyId})
    </insert>
    <select id="findByRefreshToken" parameterType="String">
        SELECT * FROM T_REFRESHTOKEN
        WHERE REFRESHTOKEN = #{refreshTokenDto}
    </select>
</mapper>